!function(){var t,e=[],n={},i={},r={},a={},o={};window.trga=window.trga||{},window.trgaAnalytics={};var s,g=0,l=["click","dblclick","mouseover","hover","mousedown","mouseup","mouseenter","mouseleave","focus","blur","keypress","keyup","change","focusin","focusout","select","scroll"],c={categoryCssClass:"trga-zone",categoryCssSelector:".trga-zone",limitLabelStringLength:100,throttleWaitTimeMS:1e3,initIntervalMs:3e3,debugReportString:"==== trga-analytics - "},u={init:v,initPage:d,initWithInterval:function(e){if(clearInterval(t),!1===e)return void(a.isDebug&&console.log("stop init interval"));a.isDebug&&console.log("init interval counter");parseInt(e)&&(c.initIntervalMs=1e3*e);t=setInterval(function(){g++,v(),a.isDebug&&console.log("init interval counter",g)},c.initIntervalMs)},submitPageView:function(){},submitEvent:function(){}};function d(){n={},v()}function v(){a.isDebug&&(console.log(c.debugReportString+"init"),a.setDebug()),function(){for(var t=0;t<e.length;t++)if(e[t].jsEventName){var n=e[t].jsEventName,i=e[t].cssClass;e[t].options;f(n,i,e[t])}}(),function(){var t=document.querySelectorAll(c.categoryCssSelector+":not("+c.categoryCssSelector+"-initialized)");if(t)for(var e=0;e<t.length;e++){var n=t[e];n.className+=" "+c.categoryCssClass+"-initialized"}}()}function f(t,e,g){var l=t+".trga";function u(e){return function(t,e,g){var l=function(t,e){return m(t,"trgaActionName")||e}(t,e),u=function(t){var e=m(t,"trgaZone");if(!e){var n=t.closest(c.categoryCssSelector);e=m(n,"trgaZone")}return e=e||"zone N/A"}(t),d=function(t){var e=performance.now(),n=m(t,"trgaFieldsObject")||{};if("string"==typeof n)try{n=JSON.parse(n)}catch(t){console.log(c.debugReportString,t),console.log(c.debugReportString+'problem with parse json, try to use "double quotes" for json keys')}m(t,"trgaFieldsObjectText")&&(n.text=m(t,"trgaFieldsObjectText"));return n.timeReady=Math.round((e-s)/1e3),n}(t),v=function(t){var e=m(t,"trgaLabel");e||(e=t.textContent);(e=(e=e||"label N/A").trim()).length>c.limitLabelStringLength&&(e=e.substring(0,c.limitLabelStringLength));return e}(t),f=function(t){var e=m(t,"trgaValue");return e=parseInt(e)||0}(t),w=function(t,e,n,i){return t+"_"+e+"_"+n+"_"+i}(u,l,v,f);if(!function(t,e){var n=!1;e=e||c.throttleWaitTimeMS;var i=function(t){var e=!1;r[t]&&(e=r[t]);return e}(t);!i||i+e-Date.now()<0?(n=!0,function(t){r[t]=Date.now()}(t)):n=!1;return n}(w))return;if(!function(t,e,r){var o=!1,s=function(t){n[t]||(n[t]=1,i[t]=1);return n[t]}(t),g=function(t,e){var n=m(t,"trgaCountLimit");(n=parseInt(n)||0)&&-1===n||e&&e.triggerEventCountLimit>0&&(n=e.triggerEventCountLimit);return n}(e,r);g>0&&s>g?(a.isDebug&&console.log("event not send to google analytics - tracked x"+g+" per page"),o=!1):o=!0;return o}(w,t,g))return void(a.isDebug&&console.log("event counter passed its limit"));a.isDebug&&console.log(c.debugReportString+"trga-action: "+l,u,l,v,f,d);(function(t){n[t]++,i[t]++})(w),o.submitGaEvent(u,l,v,f,d)}(this,t,g),!0}var d=document.querySelectorAll("."+e+":not(."+e+"-initialized)");if(a.isDebug&&d.length&&console.log("elementsByClass found: ",d),d)for(var v=0;v<d.length;v++){var f=d[v];f.trgaOff(l),f.trgaOn(l,u,{capture:!0}),a.isDebug&&console.log("element.className",f.className),f.className+=" "+e+"-initialized"}}function w(t){e.indexOf(t)<0&&e.push(t)}function m(t,e){return t.dataset[e]}function p(t){a.hiliteDebug(t,e)}window.addEventListener("load",function(){(function(t){for(var e=0;e<t.length;e++){jsEventName=t[e];var n={cssClass:"trga-trigger-by-"+jsEventName,jsEventName:jsEventName};w(n);var i={triggerEventCountLimit:1};i.jsEventName=jsEventName,i.cssClass=n.cssClass+"-once",w(i)}})(l),function(){if(window.trga.c.GaApi&&(o=new window.trga.c.GaApi),o){for(var t in u.submitPageView=o.submitGaEvent,u.submitEvent=o.submitGaPageView,u)window.trga[t]||(window.trga[t]=u[t]);(a=window.trga.c.DebugClass?new window.trga.c.DebugClass(c):{}).setDebug&&(window.trga.setDebug=a.setDebug,window.trga.hiliteDebug=p),window.trgaAnalytics=window.trga}else console.error("trgaGaApi is missing, it handles the events submission to google analytics, please import it")}(),s=performance.now(),d()})}(),function(){window.trga=window.trga||{},window.trga.c=window.trga.c||{},window.trga.c.GaApi=function(t){this.submitGaEvent=function(t,e,n,i,r){if(r=r||{},i=i||null,n=n||"",!window.gtag&&!window.ga)return void console.error(isDebugReportString+"google analytics is not defined");window.gtag&&gtag("event",e,{event_category:t,event_label:n,value:i});window.ga&&ga("send","event",t,e,n,i,r)},this.submitGaPageView=function(t,e,n){var i={page_path:e=e||location.pathname};(t=t||"--")&&(i.title=t);if(window.gtag){if(!n)return void console.error("Need to supply gaMeasurementId");gtag("config",n,i)}window.ga&&ga("send","pageview",e)}}}(),function(){window.trga=window.trga||{},window.trga=window.trga||{},window.trga.domHelper=new function(){var t={REMOVE_CLASS:"removeClass",ADD_CLASS:"addClass"};this.addClassToElementsByClass=function(e,i){n(t.ADD_CLASS,e,i)},this.removeClassFromElementsByClass=function(e,i){n(t.REMOVE_CLASS,e,i)},this.addCssClassToDom=function(t,e){var n=document.createElement("style");n.innerHTML="."+t+" {"+e+"}";var i=document.querySelector("script");i.parentNode.insertBefore(n,i)};var e={on(t,e,n){this.trgaNamespaces||(this.trgaNamespaces={}),this.trgaNamespaces[t]=e;var i=n||!1;return this.addEventListener(t.split(".")[0],e,i),this},off(t){if(this.trgaNamespaces&&this.removeEventListener)return this.removeEventListener(t.split(".")[0],this.trgaNamespaces[t],!0),delete this.trgaNamespaces[t],this}};function n(t,e,n){for(var i=document.getElementsByClassName(e),r=0;r<i.length;r++)"addClass"==t&&i[r].classList.add(n),"removeClass"==t&&i[r].classList.remove(n)}window.trgaOn=Element.prototype.trgaOn=e.on,window.trgaOff=Element.prototype.trgaOff=e.off}}();