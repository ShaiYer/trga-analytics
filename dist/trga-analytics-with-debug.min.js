!function(){var e,t=[],n={},s={},i={},o={},a={};window.trga=window.trga||{},window.trgaAnalytics={};var r,l=0,g=["click","dblclick","mouseover","hover","mousedown","mouseup","mouseenter","mouseleave","focus","blur","keypress","keyup","change","focusin","focusout","select","scroll"],u={categoryCssClass:"trga-zone",categoryCssSelector:".trga-zone",limitLabelStringLength:100,throttleWaitTimeMS:1e3,initIntervalMs:3e3,debugReportString:"==== trga-analytics - "},c={init:w,initPage:d,initWithInterval:function(t){if(clearInterval(e),!1===t)return void(o.isDebug&&console.log("stop init interval"));o.isDebug&&console.log("init interval counter");parseInt(t)&&(u.initIntervalMs=1e3*t);e=setInterval(function(){l++,w(),o.isDebug&&console.log("init interval counter",l)},u.initIntervalMs)},submitPageView:function(){},submitEvent:function(){}};function d(){n={},w()}function w(){o.isDebug&&(console.log(u.debugReportString+"init"),o.setDebug()),function(){for(var e=0;e<t.length;e++)if(t[e].jsEventName){var n=t[e].jsEventName,s=t[e].cssClass;t[e].options;m(n,s,t[e])}}(),function(){var e=document.querySelectorAll(u.categoryCssSelector+":not("+u.categoryCssSelector+"-initialized)");if(e)for(var t=0;t<e.length;t++){var n=e[t];n.className+=" "+u.categoryCssClass+"-initialized"}}()}function m(e,t,l){var g=e+".trga";function c(t){return function(e,t,l){var g=function(e,t){return f(e,"trgaActionName")||t}(e,t),c=function(e){var t=f(e,"trgaZone");if(!t){var n=e.closest(u.categoryCssSelector);t=f(n,"trgaZone")}return t=t||"zone N/A"}(e),d=function(e){var t=performance.now(),n=f(e,"trgaFieldsObject")||{};if("string"==typeof n)try{n=JSON.parse(n)}catch(e){console.log(u.debugReportString,e),console.log(u.debugReportString+'problem with parse json, try to use "double quotes" for json keys')}f(e,"trgaFieldsObjectText")&&(n.text=f(e,"trgaFieldsObjectText"));return n.timeReady=Math.round((t-r)/1e3),n}(e),w=function(e){var t=f(e,"trgaLabel");t||(t=e.textContent);(t=(t=t||"label N/A").trim()).length>u.limitLabelStringLength&&(t=t.substring(0,u.limitLabelStringLength));return t}(e),m=function(e){var t=f(e,"trgaValue");return t=parseInt(t)||0}(e),v=function(e,t,n,s){return e+"_"+t+"_"+n+"_"+s}(c,g,w,m);if(!function(e,t){var n=!1;t=t||u.throttleWaitTimeMS;var s=function(e){var t=!1;i[e]&&(t=i[e]);return t}(e);!s||s+t-Date.now()<0?(n=!0,function(e){i[e]=Date.now()}(e)):n=!1;return n}(v))return;if(!function(e,t,i){var a=!1,r=function(e){n[e]||(n[e]=1,s[e]=1);return n[e]}(e),l=function(e,t){var n=f(e,"trgaCountLimit");(n=parseInt(n)||0)&&-1===n||t&&t.triggerEventCountLimit>0&&(n=t.triggerEventCountLimit);return n}(t,i);l>0&&r>l?(o.isDebug&&console.log("event not send to google analytics - tracked x"+l+" per page"),a=!1):a=!0;return a}(v,e,l))return void(o.isDebug&&console.log("event counter passed its limit"));o.isDebug&&console.log(u.debugReportString+"trga-action: "+g,c,g,w,m,d);(function(e){n[e]++,s[e]++})(v),a.submitGaEvent(c,g,w,m,d)}(this,e,l),!0}var d=document.querySelectorAll("."+t+":not(."+t+"-initialized)");if(o.isDebug&&d.length&&console.log("elementsByClass found: ",d),d)for(var w=0;w<d.length;w++){var m=d[w];m.trgaOff(g),m.trgaOn(g,c,{capture:!0}),o.isDebug&&console.log("element.className",m.className),m.className+=" "+t+"-initialized"}}function v(e){t.indexOf(e)<0&&t.push(e)}function f(e,t){return e.dataset[t]}function b(e){o.hiliteDebug(e,t)}window.addEventListener("load",function(){(function(e){for(var t=0;t<e.length;t++){jsEventName=e[t];var n={cssClass:"trga-trigger-by-"+jsEventName,jsEventName:jsEventName};v(n);var s={triggerEventCountLimit:1};s.jsEventName=jsEventName,s.cssClass=n.cssClass+"-once",v(s)}})(g),function(){if(window.trga.c.GaApi&&(a=new window.trga.c.GaApi),a){for(var e in c.submitPageView=a.submitGaEvent,c.submitEvent=a.submitGaPageView,c)window.trga[e]||(window.trga[e]=c[e]);(o=window.trga.c.DebugClass?new window.trga.c.DebugClass(u):{}).setDebug&&(window.trga.setDebug=o.setDebug,window.trga.hiliteDebug=b),window.trgaAnalytics=window.trga}else console.error("trgaGaApi is missing, it handles the events submission to google analytics, please import it")}(),r=performance.now(),d()})}(),function(){window.trga=window.trga||{},window.trga.c=window.trga.c||{},window.trga.c.GaApi=function(e){this.submitGaEvent=function(e,t,n,s,i){if(i=i||{},s=s||null,n=n||"",!window.gtag&&!window.ga)return void console.error(isDebugReportString+"google analytics is not defined");window.gtag&&gtag("event",t,{event_category:e,event_label:n,value:s});window.ga&&ga("send","event",e,t,n,s,i)},this.submitGaPageView=function(e,t,n){var s={page_path:t=t||location.pathname};(e=e||"--")&&(s.title=e);if(window.gtag){if(!n)return void console.error("Need to supply gaMeasurementId");gtag("config",n,s)}window.ga&&ga("send","pageview",t)}}}(),function(){window.trga=window.trga||{},window.trga=window.trga||{},window.trga.domHelper=new function(){var e={REMOVE_CLASS:"removeClass",ADD_CLASS:"addClass"};this.addClassToElementsByClass=function(t,s){n(e.ADD_CLASS,t,s)},this.removeClassFromElementsByClass=function(t,s){n(e.REMOVE_CLASS,t,s)},this.addCssClassToDom=function(e,t){var n=document.createElement("style");n.innerHTML="."+e+" {"+t+"}";var s=document.querySelector("script");s.parentNode.insertBefore(n,s)};var t={on(e,t,n){this.trgaNamespaces||(this.trgaNamespaces={}),this.trgaNamespaces[e]=t;var s=n||!1;return this.addEventListener(e.split(".")[0],t,s),this},off(e){if(this.trgaNamespaces&&this.removeEventListener)return this.removeEventListener(e.split(".")[0],this.trgaNamespaces[e],!0),delete this.trgaNamespaces[e],this}};function n(e,t,n){for(var s=document.getElementsByClassName(t),i=0;i<s.length;i++)"addClass"==e&&s[i].classList.add(n),"removeClass"==e&&s[i].classList.remove(n)}window.trgaOn=Element.prototype.trgaOn=t.on,window.trgaOff=Element.prototype.trgaOff=t.off}}(),function(){window.trga=window.trga||{},window.trga.c=window.trga.c||{},window.trga.c.DebugClass=function(t){var t=t,n="trga-hilite",s=!1;this.isDebug=!1,this.isDebugHilite=!1,this.setDebug=function(e){i.isDebug=null==e?!i.isDebug:null==e||e},this.hiliteDebug=function(o,a){s||(!function(s){for(var i=0;i<s.length;i++)s[i].cssClass&&(e.addCssClassToDom(s[i].cssClass.trim()+"."+n,"border: 1px dashed yellow; "),e.addCssClassToDom(s[i].cssClass.trim()+"."+n+"::after",'font-size: smaller; border: 1px dashed black; position: absolute; top: 30px; left: 30px; color: navy; background-color:yellow; content: "'+s[i].cssClass+'"'));e.addCssClassToDom(".trga-hilite","border: 2px solid blue"),e.addCssClassToDom(t.categoryCssClass+"."+n,"border: 3px solid navy")}(a),s=!0);i.isDebugHilite=null==o?!i.isDebugHilite:null==o||o;for(var r=0;r<a.length;r++){var l=a[r].cssClass;i.isDebugHilite?e.addClassToElementsByClass(l,n):e.removeClassFromElementsByClass(l,n)}i.isDebugHilite?e.addClassToElementsByClass(t.categoryCssClass,n):e.removeClassFromElementsByClass(t.categoryCssClass,n)};var i=this};var e=window.trga.domHelper;window.addEventListener("load",function(){(e=window.trga.domHelper)||console.error("DomHelper class not found! import the desired JS")})}();